repeat wait() until game:IsLoaded()

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()

-- Atualiza o personagem se morrer
player.CharacterAdded:Connect(function(newChar)
    char = newChar
end)

-- Cria a GUI
local gui = Instance.new("ScreenGui")
gui.Name = "NoClipGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Cria o botão
local botao = Instance.new("TextButton")
botao.Size = UDim2.new(0, 160, 0, 50)
botao.Position = UDim2.new(0, 20, 0, 0.1)
botao.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
botao.TextColor3 = Color3.fromRGB(255, 255, 255)
botao.Font = Enum.Font.SourceSansBold
botao.TextSize = 20
botao.Text = "Ativar NoClip"
botao.Parent = gui

-- Variável de controle
local noclipAtivo = false

-- Loop do NoClip
local RunService = game:GetService("RunService")
RunService.Stepped:Connect(function()
    if noclipAtivo and char then
        for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Quando o botão for clicado
botao.MouseButton1Click:Connect(function()
    noclipAtivo = not noclipAtivo

    if noclipAtivo then
        botao.Text = "NoClip Ativado ✔️"
        botao.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    else
        botao.Text = "Ativar NoClip"
        botao.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
    end
end)
